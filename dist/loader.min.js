!function(){function e(r){"use strict";for(var a={fill:0},o=function(e){for(e+=9;e%64>0;e+=1);return e},s=function(e,n){var t=new Uint8Array(e.buffer),r=n%4,a=n-r;switch(r){case 0:t[a+3]=0;case 1:t[a+2]=0;case 2:t[a+1]=0;case 3:t[a+0]=0}for(var o=(n>>2)+1;o<e.length;o++)e[o]=0},i=function(e,n,t){e[n>>2]|=128<<24-(n%4<<3),e[((n>>2)+2&-16)+14]=t/(1<<29)|0,e[((n>>2)+2&-16)+15]=t<<3},f=function(e,n,t,r,a){var o,s=this,i=a%4,f=(r+i)%4,u=r-f;switch(i){case 0:e[a]=s.charCodeAt(t+3);case 1:e[a+1-(i<<1)|0]=s.charCodeAt(t+2);case 2:e[a+2-(i<<1)|0]=s.charCodeAt(t+1);case 3:e[a+3-(i<<1)|0]=s.charCodeAt(t)}if(!(r<f+i)){for(o=4-i;o<u;o=o+4|0)n[a+o>>2]=s.charCodeAt(t+o)<<24|s.charCodeAt(t+o+1)<<16|s.charCodeAt(t+o+2)<<8|s.charCodeAt(t+o+3);switch(f){case 3:e[a+u+1|0]=s.charCodeAt(t+u+2);case 2:e[a+u+2|0]=s.charCodeAt(t+u+1);case 1:e[a+u+3|0]=s.charCodeAt(t+u)}}},u=function(e,n,t,r,a){var o,s=this,i=a%4,f=(r+i)%4,u=r-f;switch(i){case 0:e[a]=s[t+3];case 1:e[a+1-(i<<1)|0]=s[t+2];case 2:e[a+2-(i<<1)|0]=s[t+1];case 3:e[a+3-(i<<1)|0]=s[t]}if(!(r<f+i)){for(o=4-i;o<u;o=o+4|0)n[a+o>>2|0]=s[t+o]<<24|s[t+o+1]<<16|s[t+o+2]<<8|s[t+o+3];switch(f){case 3:e[a+u+1|0]=s[t+u+2];case 2:e[a+u+2|0]=s[t+u+1];case 1:e[a+u+3|0]=s[t+u]}}},c=function(e,n,r,a,o){var s,i=this,f=o%4,u=(a+f)%4,c=a-u,h=new Uint8Array(t.readAsArrayBuffer(i.slice(r,r+a)));switch(f){case 0:e[o]=h[3];case 1:e[o+1-(f<<1)|0]=h[2];case 2:e[o+2-(f<<1)|0]=h[1];case 3:e[o+3-(f<<1)|0]=h[0]}if(!(a<u+f)){for(s=4-f;s<c;s=s+4|0)n[o+s>>2|0]=h[s]<<24|h[s+1]<<16|h[s+2]<<8|h[s+3];switch(u){case 3:e[o+c+1|0]=h[c+2];case 2:e[o+c+2|0]=h[c+1];case 1:e[o+c+3|0]=h[c]}}},h=function(e){switch(n.getDataType(e)){case"string":return f.bind(e);case"array":return u.bind(e);case"buffer":return u.bind(e);case"arraybuffer":return u.bind(new Uint8Array(e));case"view":return u.bind(new Uint8Array(e.buffer,e.byteOffset,e.byteLength));case"blob":return c.bind(e)}},l=new Array(256),d=0;d<256;d++)l[d]=(d<16?"0":"")+d.toString(16);var p=function(e){for(var n=new Uint8Array(e),t=new Array(e.byteLength),r=0;r<t.length;r++)t[r]=l[n[r]];return t.join("")},y=function(e){var n;if(e<=65536)return 65536;if(e<16777216)for(n=1;n<e;n<<=1);else for(n=16777216;n<e;n+=16777216);return n},w=function(n){if(n%64>0)throw new Error("Chunk size must be a multiple of 128 bit");a.offset=0,a.maxChunkLen=n,a.padMaxChunkLen=o(n),a.heap=new ArrayBuffer(y(a.padMaxChunkLen+320+20)),a.h32=new Int32Array(a.heap),a.h8=new Int8Array(a.heap),a.core=new e._core({Int32Array:Int32Array,DataView:DataView},{},a.heap),a.buffer=null};w(r||65536);var g=function(e,n){a.offset=0;var t=new Int32Array(e,n+320,5);t[0]=1732584193,t[1]=-271733879,t[2]=-1732584194,t[3]=271733878,t[4]=-1009589776},m=function(e,n){var t=o(e),r=new Int32Array(a.heap,0,t>>2);return s(r,e),i(r,e,n),t},v=function(e,n,t,r){h(e)(a.h8,a.h32,n,t,r||0)},b=function(e,n,t,r,o){var s=t;v(e,n,t),o&&(s=m(t,r)),a.core.hash(s,a.padMaxChunkLen)},A=function(e,n){var t=new Int32Array(e,n+320,5),r=new Int32Array(5),a=new DataView(r.buffer);return a.setInt32(0,t[0],!1),a.setInt32(4,t[1],!1),a.setInt32(8,t[2],!1),a.setInt32(12,t[3],!1),a.setInt32(16,t[4],!1),r},C=this.rawDigest=function(e){var n=e.byteLength||e.length||e.size||0;g(a.heap,a.padMaxChunkLen);var t=0,r=a.maxChunkLen;for(t=0;n>t+r;t+=r)b(e,t,r,n,!1);return b(e,t,n-t,n,!0),A(a.heap,a.padMaxChunkLen)};this.digest=this.digestFromString=this.digestFromBuffer=this.digestFromArrayBuffer=function(e){return p(C(e).buffer)},this.resetState=function(){return g(a.heap,a.padMaxChunkLen),this},this.append=function(e){var n,t=0,r=e.byteLength||e.length||e.size||0,o=a.offset%a.maxChunkLen;for(a.offset+=r;t<r;)n=Math.min(r-t,a.maxChunkLen-o),v(e,t,n,o),o+=n,t+=n,o===a.maxChunkLen&&(a.core.hash(a.maxChunkLen,a.padMaxChunkLen),o=0);return this},this.getState=function(){var e,n=a.offset%a.maxChunkLen;if(n)e=a.heap.slice(0);else{var t=new Int32Array(a.heap,a.padMaxChunkLen+320,5);e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}return{offset:a.offset,heap:e}},this.setState=function(e){if(a.offset=e.offset,20===e.heap.byteLength){var n=new Int32Array(a.heap,a.padMaxChunkLen+320,5);n.set(new Int32Array(e.heap))}else a.h32.set(new Int32Array(e.heap));return this};var L=this.rawEnd=function(){var e=a.offset,n=e%a.maxChunkLen,t=m(n,e);a.core.hash(t,a.padMaxChunkLen);var r=A(a.heap,a.padMaxChunkLen);return g(a.heap,a.padMaxChunkLen),r};this.end=function(){return p(L().buffer)}}var n={getDataType:function(e){if("string"==typeof e)return"string";if(e instanceof Array)return"array";if("undefined"!=typeof global&&global.Buffer&&global.Buffer.isBuffer(e))return"buffer";if(e instanceof ArrayBuffer)return"arraybuffer";if(e.buffer instanceof ArrayBuffer)return"view";if(e instanceof Blob)return"blob";throw new Error("Unsupported data type.")}};if(e._core=function e(n,t,r){"use asm";var a=new n.Int32Array(r);function o(e,n){e=e|0;n=n|0;var t=0,r=0,o=0,s=0,i=0,f=0,u=0,c=0,h=0,l=0,d=0,p=0,y=0,w=0;o=a[n+320>>2]|0;i=a[n+324>>2]|0;u=a[n+328>>2]|0;h=a[n+332>>2]|0;d=a[n+336>>2]|0;for(t=0;(t|0)<(e|0);t=t+64|0){s=o;f=i;c=u;l=h;p=d;for(r=0;(r|0)<64;r=r+4|0){w=a[t+r>>2]|0;y=((o<<5|o>>>27)+(i&u|~i&h)|0)+((w+d|0)+1518500249|0)|0;d=h;h=u;u=i<<30|i>>>2;i=o;o=y;a[e+r>>2]=w}for(r=e+64|0;(r|0)<(e+80|0);r=r+4|0){w=(a[r-12>>2]^a[r-32>>2]^a[r-56>>2]^a[r-64>>2])<<1|(a[r-12>>2]^a[r-32>>2]^a[r-56>>2]^a[r-64>>2])>>>31;y=((o<<5|o>>>27)+(i&u|~i&h)|0)+((w+d|0)+1518500249|0)|0;d=h;h=u;u=i<<30|i>>>2;i=o;o=y;a[r>>2]=w}for(r=e+80|0;(r|0)<(e+160|0);r=r+4|0){w=(a[r-12>>2]^a[r-32>>2]^a[r-56>>2]^a[r-64>>2])<<1|(a[r-12>>2]^a[r-32>>2]^a[r-56>>2]^a[r-64>>2])>>>31;y=((o<<5|o>>>27)+(i^u^h)|0)+((w+d|0)+1859775393|0)|0;d=h;h=u;u=i<<30|i>>>2;i=o;o=y;a[r>>2]=w}for(r=e+160|0;(r|0)<(e+240|0);r=r+4|0){w=(a[r-12>>2]^a[r-32>>2]^a[r-56>>2]^a[r-64>>2])<<1|(a[r-12>>2]^a[r-32>>2]^a[r-56>>2]^a[r-64>>2])>>>31;y=((o<<5|o>>>27)+(i&u|i&h|u&h)|0)+((w+d|0)-1894007588|0)|0;d=h;h=u;u=i<<30|i>>>2;i=o;o=y;a[r>>2]=w}for(r=e+240|0;(r|0)<(e+320|0);r=r+4|0){w=(a[r-12>>2]^a[r-32>>2]^a[r-56>>2]^a[r-64>>2])<<1|(a[r-12>>2]^a[r-32>>2]^a[r-56>>2]^a[r-64>>2])>>>31;y=((o<<5|o>>>27)+(i^u^h)|0)+((w+d|0)-899497514|0)|0;d=h;h=u;u=i<<30|i>>>2;i=o;o=y;a[r>>2]=w}o=o+s|0;i=i+f|0;u=u+c|0;h=h+l|0;d=d+p|0}a[n+320>>2]=o;a[n+324>>2]=i;a[n+328>>2]=u;a[n+332>>2]=h;a[n+336>>2]=d}return{hash:o}},"undefined"!=typeof module?module.exports=e:"undefined"!=typeof window&&(window.Rusha=e),"undefined"!=typeof FileReaderSync){var t=new FileReaderSync,r=function(e,n,t){try{return t(null,e.digest(n))}catch(e){return t(e)}},a=function(e,n,t,r,o){var s=new self.FileReader;s.onloadend=function(){var i=s.result;n+=s.result.byteLength;try{e.append(i)}catch(e){return void o(e)}n<r.size?a(e,n,t,r,o):o(null,e.end())},s.readAsArrayBuffer(r.slice(n,n+t))};self.onmessage=function(n){var t=n.data.data,o=n.data.file,s=n.data.id;if("undefined"!=typeof s&&(o||t)){var i=n.data.blockSize||4194304,f=new e(i);f.resetState();var u=function(e,n){e?self.postMessage({id:s,error:e.name}):self.postMessage({id:s,hash:n})};t&&r(f,t,u),o&&a(f,0,i,o,u)}}}}(),!function(e,n,t){function r(e,n){return typeof e===n}function a(){var e,n,t,a,o,s,i;for(var c in u)if(u.hasOwnProperty(c)){if(e=[],n=u[c],n.name&&(e.push(n.name.toLowerCase()),n.options&&n.options.aliases&&n.options.aliases.length))for(t=0;t<n.options.aliases.length;t++)e.push(n.options.aliases[t].toLowerCase());for(a=r(n.fn,"function")?n.fn():n.fn,o=0;o<e.length;o++)s=e[o],i=s.split("."),1===i.length?h[i[0]]=a:(!h[i[0]]||h[i[0]]instanceof Boolean||(h[i[0]]=new Boolean(h[i[0]])),h[i[0]][i[1]]=a),f.push((a?"":"no-")+i.join("-"))}}function o(e){var n=d.className,t=h._config.classPrefix||"";if(p&&(n=n.baseVal),h._config.enableJSClass){var r=new RegExp("(^|\\s)"+t+"no-js(\\s|$)");n=n.replace(r,"$1"+t+"js$2")}h._config.enableClasses&&(n+=" "+t+e.join(" "+t),p?d.className.baseVal=n:d.className=n)}function s(){return"function"!=typeof n.createElement?n.createElement(arguments[0]):p?n.createElementNS.call(n,"http://www.w3.org/2000/svg",arguments[0]):n.createElement.apply(n,arguments)}function i(e,n){if("object"==typeof e)for(var t in e)l(e,t)&&i(t,e[t]);else{e=e.toLowerCase();var r=e.split("."),a=h[r[0]];if(2==r.length&&(a=a[r[1]]),"undefined"!=typeof a)return h;n="function"==typeof n?n():n,1==r.length?h[r[0]]=n:(!h[r[0]]||h[r[0]]instanceof Boolean||(h[r[0]]=new Boolean(h[r[0]])),h[r[0]][r[1]]=n),o([(n&&0!=n?"":"no-")+r.join("-")]),h._trigger(e,n)}return h}var f=[],u=[],c={_version:"3.5.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,n){var t=this;setTimeout(function(){n(t[e])},0)},addTest:function(e,n,t){u.push({name:e,fn:n,options:t})},addAsyncTest:function(e){u.push({name:null,fn:e})}},h=function(){};h.prototype=c,h=new h;var l,d=n.documentElement,p="svg"===d.nodeName.toLowerCase();!function(){var e={}.hasOwnProperty;l=r(e,"undefined")||r(e.call,"undefined")?function(e,n){return n in e&&r(e.constructor.prototype[n],"undefined")}:function(n,t){return e.call(n,t)}}(),c._l={},c.on=function(e,n){this._l[e]||(this._l[e]=[]),this._l[e].push(n),h.hasOwnProperty(e)&&setTimeout(function(){h._trigger(e,h[e])},0)},c._trigger=function(e,n){if(this._l[e]){var t=this._l[e];setTimeout(function(){var e,r;for(e=0;e<t.length;e++)(r=t[e])(n)},0),delete this._l[e]}},h._q.push(function(){c.addTest=i}),i("htmlimports","import"in s("link")),a(),o(f),delete c.addTest,delete c.addAsyncTest;for(var y=0;y<h._q.length;y++)h._q[y]();e.Modernizr=h}(window,document);var localAddress;localAddress="Win32"==navigator.platform?"localhost":"0.0.0.0",window.onload=function(){var e=new XMLHttpRequest;e.open("GET","http://"+localAddress+":5050/db-manager",!0),e.onreadystatechange=function(){function n(){if(4===t.readyState&&200==t.status){var e=new XMLHttpRequest;e.open("GET","http://"+localAddress+":5050/framework",!0),e.responseType="blob",e.onload=function(){var n=new FileReader;n.readAsDataURL(e.response),n.onload=function(e){var n=e.target.result,t=(new Rusha).digestFromArrayBuffer(n),r=t.toString(),a="97f4d5937975a027b7c9341fa1d9413f027a01ca";console.log(r),r===a?(Modernizr.htmlimports&&(document.querySelector("head").innerHTML+='<link rel="import" href="http://'+localAddress+':5050/webcomponents-loader">'),setTimeout(function(){document.querySelector("head").innerHTML+='<link rel="import" href="http://'+localAddress+':5050/framework">'},1e3)):(document.getElementsByTagName("BODY")[0].style.background="black",document.getElementsByTagName("BODY")[0].innerHTML='<h1 style="color: white;">It seems that you have modified version of Jste :(</h1>')}},e.send()}}if(4===e.readyState)if(200===e.status){var t=new XMLHttpRequest,r="http://"+localAddress+":5050/framework";t.open("get",r,!0),t.onreadystatechange=n,t.send(null)}else document.getElementsByTagName("BODY")[0].style.background="black",document.getElementsByTagName("BODY")[0].innerHTML="<center><h1 style='color: white;'>It seems that Jste isn't installed on your device :(</h1></center>"},e.send()};
